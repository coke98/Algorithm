### 💡문제 분석

- 첫째 줄에 도시 N개
- 둘째 줄에 여행계획 N개
- 이후 i째 줄마다  N개 도시들의 연결 여부를 입력으로 받음
    - 이때 i 줄의 j번째 도시들은 i 도시와 j의 연결 여부를 나타냄
    - 각각이 연결되어있다면 1, 아니라면 0으로 표현
- 길이 이어져 있다면 여행 가능
- 여러번 중복해서 도시들을 돌아다녀도 됨
- 마지막 줄에 도시 여행 계획을 입력받음
    - 여행 가능하다면 ‘YES’ 아니면 ‘NO’를 출력

---

### 💡입출력 예시

```python
# 예제 입력 1 
3
3
0 1 0
1 0 1
0 1 0
1 2 3

# 예제 출력 1 
YES
```

---

### 💡내 코드

```python
N = int(input())
M = int(input())

parent = [i for i in range(N)]
size = [1]*N

def find(x):
    if parent[x] != x:
        parent[x] = find(parent[x])
    return parent[x]

def union(x, y):
    rx = find(x)
    ry = find(y)
    
    if rx == ry:
        return
    
    if size[rx] > size[ry]:
        parent[ry] = rx
        size[rx] += size[ry]
    else:
        parent[rx] = ry
        size[ry] += size[rx]

for i in range(N):
    row = input().split()
    for j in range(N):
        if row[j] == '1':
            union(i, j)

path = list(map(int, input().split()))
root = find(path[0]-1)
for city in path:
    if find(city-1) != root:
        print('NO')
        exit()
print('YES')
```

---

### 💡시간복잡도

- $O(N^2M)$

### 💡공간복잡도

- $O(N)$

---

### 💡메모