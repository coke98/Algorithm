### ğŸ’¡ë¬¸ì œ ë¶„ì„

- ì§ì‚¬ê°í˜• ì¢…ì´
    - ê°ì¹¸ ìˆ«ì
    - ê° ì¡°ê°ì€ ì„¸ë¡œ í˜¹ì€ ê°€ë¡œê°€ 1ì¸ ì§ì‚¬ê°í˜•
    - ê¸¸ì´ê°€ Nì¸ ì¡°ê°ì€ Nìë¦¬ìˆ˜ë¡œ ì½ìŒ
        - ìœ„ì—ì„œ ì•„ë˜, ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì½ìŒ
- ì§ì‚¬ê°í˜•ì„ ì„ì˜ë¡œ ë§Œë“¤ì–´ ì¡°ê°ë‚¼ ë•Œ ê° ì¡°ê°ì˜ í•©ì€?

---

### ğŸ’¡ì…ì¶œë ¥ ì˜ˆì‹œ

```python
ì˜ˆì œ ì…ë ¥ 1 
2 3
123
312
ì˜ˆì œ ì¶œë ¥ 1 
435

ì˜ˆì œ ì…ë ¥ 2 
2 2
99
11
ì˜ˆì œ ì¶œë ¥ 2 
182

ì˜ˆì œ ì…ë ¥ 3 
4 3
001
010
111
100
ì˜ˆì œ ì¶œë ¥ 3 
1131

ì˜ˆì œ ì…ë ¥ 4 
1 1
8
ì˜ˆì œ ì¶œë ¥ 4 
8
```

---

### ğŸ’¡ë‚´ ì½”ë“œ

```python
N, M = map(int, input().split())

matrix = [[int(i) for i in input()] for _ in range(N)]

answer = 0

def is_row_head(M, combi, row, col):
    prev_col = col - 1
    if prev_col < 0:
        return True
    i = M * row + prev_col
    if combi >> i & 1 == 0:
        return True
    return False

def is_col_head(M, combi, row, col):
    prev_row = row - 1
    if prev_row < 0:
        return True
    i = M * prev_row + col
    if combi >> i & 1 == 1:
        return True
    return False

def find_row_num(M, combi, row, col):
    num = 0
    for dx in range(M-col):
        if combi >> (M * row + col + dx) & 1 == 0:
            break
        num *= 10
        num += matrix[row][col+dx]
    return num

def find_col_num(N, M, combi, row, col):
    num = 0
    for dy in range(N-row):
        if combi >> (M * (row+dy) + col) & 1 == 1:
            break
        num *= 10
        num += matrix[row+dy][col]
    return num

for combi in range(1 << N*M):
    s = 0
    for i in range(N*M):
        row = i // M
        col = i % M
        val = combi >> i
        if val & 1 == 1:
            if is_row_head(M, combi, row, col):
                s += find_row_num(M, combi, row, col)
        else:
            if is_col_head(M, combi, row, col):
                s += find_col_num(N, M, combi, row, col)
    answer = max(answer, s)

print(answer)       
```

---

### ğŸ’¡ì‹œê°„ë³µì¡ë„

- $O(2^{N \times M} \times N \times M)$

### ğŸ’¡ê³µê°„ë³µì¡ë„

- $O(NM)$

---

### ğŸ’¡ë©”ëª¨

- í‹€ë ¸ë˜ ì 
    - **`range()` í•¨ìˆ˜ ì˜¤ë¥˜**
        - **ë¬¸ì œì :** `range(0 << N*M)`ëŠ” ë¹„íŠ¸ ì—°ì‚° ê²°ê³¼ í•­ìƒ `0`ì´ ë¨. ë”°ë¼ì„œ `range(0)`ì´ ë˜ì–´ ë°˜ë³µë¬¸ì´ ì•„ì˜ˆ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ.
        - **í•´ê²°ì±…:** ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰í•˜ê¸° ìœ„í•´ `range(1 << N*M)` ë˜ëŠ” `range(2**(N*M))`ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•¨. `1 << x`ëŠ” 2x ì™€ ê°™ìŒ.

    ---

    - **`&` ë¹„íŠ¸ ì—°ì‚°ì ì˜¤ìš©**
        - **ë¬¸ì œì :** `combi >> i & 0`ì²˜ëŸ¼ 0ê³¼ AND ì—°ì‚° ì‹œ ë¬´ì¡°ê±´ ê²°ê³¼ê°€ `0`ì´ ë‚˜ì˜´. ì´ ë•Œë¬¸ì— ì¡°ê±´ë¬¸ì´ í•­ìƒ `False`ê°€ ë¨.
        - **í•´ê²°ì±…:** íŠ¹ì • ë¹„íŠ¸ê°€ 0ì¸ì§€ 1ì¸ì§€ í™•ì¸í•˜ë ¤ë©´ `& 1`ì„ ì‚¬ìš©í•´ì•¼ í•¨.
            - `1`ì¸ ê²½ìš°: `(combi >> i) & 1 == 1`
            - `0`ì¸ ê²½ìš°: `(combi >> i) & 1 == 0`

    ---

    - **`s` ë³€ìˆ˜ ì´ˆê¸°í™” ìœ„ì¹˜**
        - **ë¬¸ì œì :** `s = 0`ì´ `for combi` ë°˜ë³µë¬¸ ë°–ì— ìˆì–´ í•©ê³„ê°€ ëˆ„ì ë¨.
        - **í•´ê²°ì±…:** ê° ê²½ìš°ì˜ ìˆ˜ë§ˆë‹¤ í•©ê³„ë¥¼ ìƒˆë¡œ ê³„ì‚°í•´ì•¼ í•˜ë¯€ë¡œ `s = 0`ì„ **`for combi` ë°˜ë³µë¬¸ ì•ˆìª½**ì— ë‘¬ì•¼ í•¨.

    ---

    - **`if`ë¬¸ ë…¼ë¦¬ ì˜¤ë¥˜**
        - **ë¬¸ì œì :** ê°€ë¡œ ì¡°ê°(`if val & 1 == 1:`) ë‹¤ìŒìœ¼ë¡œ ì„¸ë¡œ ì¡°ê°(`if val & 1 == 0:`)ì„ ë”°ë¡œ ì²˜ë¦¬í•¨.
        - **í•´ê²°ì±…:** ëª¨ë“  ì¹¸ì€ ê°€ë¡œ ë˜ëŠ” ì„¸ë¡œ ì¡°ê° ë‘˜ ì¤‘ í•˜ë‚˜ì´ë¯€ë¡œ, `else` êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì´ê³  ë…¼ë¦¬ì ìœ¼ë¡œ ì •í™•í•¨.

    ---

    - **BFSë¡œ í’€ì—ˆë”ë‹ˆ ì‹œê°„ì´ˆê³¼ â†’ ë¹„íŠ¸ë§ˆìŠ¤í¬ë¡œ í’€ì–´ì•¼í•¨**

        ```python
        # BFS í’€ì´ ì‹œë„
        
        from collections import deque
        
        N, M = map(int, input().split())
        matrix = [[int(i) for i in input()] for _ in range(N)]
        
        q = deque()
        q.append((0, []))
        
        answer = 0
        
        while q:
            s, v = q.popleft()
            if len(v) == N * M:
                answer = max(answer, s)
            for y in range(N):
                for x in range(M):
                    if (y, x) in v:
                        continue
                    # í•˜ë‚˜ë§Œ ë„£ê¸°
                    ns = s+matrix[y][x]
                    nv = v + [(y,x)]
                    q.append((ns, nv))
                    # ê°€ë¡œë¡œ ì¡°ê°ë³„ë¡œ ë„£ê¸°
                    i = 1
                    while True:
                        if (y, x+i) in v or x+i >= M:
                            break
                        ns = s
                        nv = list(v)
                        for dx in range(i+1):
                            ns += matrix[y][x+dx]
                            nv.append((y,x+dx))
                            q.append((ns, nv))
                        i += 1
                    # ì„¸ë¡œë¡œ ì¡°ê°ë³„ë¡œ ë„£ê¸°
                    i = 1
                    while True:
                        if (y+i, x) in v or y+i >= N:
                            break
                        ns = s
                        nv = list(v)
                        for dy in range(i+1):
                            ns += matrix[y+dy][x]
                            nv.append((y+dy, x))
                            q.append((ns, nv))
                        i += 1
                            
        print(answer)
        ```